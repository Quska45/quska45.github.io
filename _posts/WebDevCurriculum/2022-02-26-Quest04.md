---
layout: post
title: "Quest04 OOP의 기본"
subtitle: ""
comments: true
categories : WebDevCurriculum
date: 2022-02-26
background: '/img/posts/06.jpg'
---

# Quest 04. OOP의 기본

## Introduction
* 이번 퀘스트에서는 바닐라 자바스크립트의 객체지향 프로그래밍에 대해 알아볼 예정입니다.
```
  앞으로 나올 질문들은 내용이 어마어마 한 것 같다. 질문 자체는 한 줄 이지만 얼마나 진지하게 작성하느냐에 따라 끝도 없이 쓸 수 있는 내용 들인 것 같다. 최대한 진지하게 작성 해보려고 한다.
```

## Topics
* 객체지향 프로그래밍
```
  객체지향 프로그래밍(OOP)?
    컴퓨터 프로그램을 객체들의 모임으로 파악하려는 프로그래밍 패러다임이다. 객체들은 서로 메시지를 주고 받을 수 있으며 데이터를 처리 할 수 있다.
  
  OOP의 장점은?
    프로그램을 유연하고 변경이 용이하게 만든다.
    직관적인 코드 분석을 가능하게 한다.
  
    위의 장점을 가능하게 하는 OOP의 중요한 특성은 강한 응집력과 약한 결합력을 지향 한다는 것이다.

    응집력 : 프로그램의 한 요소가 해당 기능을 수행하기 위해 얼마만큼의 연관된 책임과 아이디어가 뭉쳐 있는지를 나타내는 정도. 한 요소가 특정 목적을 위해 밀접하게 연관된 기능들이 모여서 구현되어 있고 지나치게 많은 일을 하지 않으면 그것을 응집력이 높다고 표현한다. 즉 하나의 클래스가 한 가지 업무만을 위해서 만들어져 있어야 한다. 예를 들어 carWindow라는 클래스는 차유리에 대한 기능만을 담당해야지 타이어에 대한 기능을 가지고 있어서는 안된다.

    결합력 : 프로그램 코드의 한 요소가 다른 요소에게 얼마나 의존적인지를 나타내는 정도. 한 요소가 다른 요소들과 관계를 크게 맺고 있지 않다는 것이다. 즉 클래스들이 혼자서 기능할 수 있어야 한다는 것이다. carWindow클래스는 carTier클래스와 별개의 클래스로 서로 영향을 주지 않고 기능 할 수 있어야 한다.
```
  * 프로토타입 기반 객체지향 프로그래밍
  [참고](https://evan-moon.github.io/2019/10/23/js-prototype/)
  
  ```
    질문의 의미는 프로토 타입에 대해서 얘기해보자는 것 같다. 그래서 프로토 타입에 대해서 써보려고 한다.
    ES6는 class를 지원하지만 결국엔 프로토타입으로 만든 함수다. 따라서 자바스크립트에서 oop를 구현하려면 결국엔 프로토 타입을 알아야 한다.

    프로토타입은 디자인 패턴이다.
      프로토 타입은 디자인 패턴일 뿐이다. 이를 채용한 다른 언어들도 많다. 그래서 먼저 디자인 패턴으로서의 프로토 타입을 알아본다.

      프로토타입 패턴은 객체를 효율적으로 생성하는 방법을 다루는 패턴 중 하나인데, 주로 객체를 생성하는 비용이 클 때 이를 회피하기 위해 사용된다. 원본 객체가 존재하고 이를 복사해서 새로운 객체를 생성하는 방법이다. 이렇게 하는 이유는 객체를 매번 생성하게 되면 똑같은 기능을 위해서 객체 생성비용을 계속 지불해야하기 때문이다. 객체지향언어인 자바에서도 이런 프로토타입 디자인 패턴을 사용한다. Cloneable 인터페이스를 사용하면 된다. 이렇게 객체를 복사하면 새로운 메모리 공간을 할당하지만 기존의 객체를 참조하게 된다. 얕은 복사의 개념이라고 보면 된다.

      이제는 자바스크립트의 프로토타입에 대해서 알아보자. 자바와 달리 자바스크립트는 프로토타입 패턴 언어이다. 따라서 객체를 생성하기만 해도 프로토타입 패턴이 적용된다. 그러니 자바스크립트의 객체가 무엇이고 객체가 생선된다는 것이 무엇을 의미하는 것인지 알아볼 필요가 있다.

      첫번째로 리터럴 객체 선언이 있다. 소스코드의 고정된 값을 대표하는 일종의 단축어 같은 개념이기 때문에 내부에서는 객체를 생성하는 일련의 매커니즘이 작동하고 있다. 자바스크립트는 일련의 메커니즘으로 함수(function)를 이용한다.

      두번째 방식인 함수로 객체를 생성해보자. new Object()와 같은 방식으로도 객체를 생성할 수 있는데 이는 생성자(Counstructor)를 사용하여 객체를 생성한다고 한다. 자바와 같은 클래스 기반 언어라면 Object클래스라고 볼 수 있지만 자바스크립트에서 Object는 함수다.

      지금까지 알아본 내용을 정리하면 다음과 같다.
      1. 프로토타입 패턴이란 객체를 생성할 때 원본 객체를 복제하여 생성하는 방법이다.
      2. 자바스크립트는 객체를 생성할 때 프로토타입 패턴을 사용한다.
      3. 자바스크립트틑 객체를 생성할 때 함수를 사용한다.
  ```
  * 자바스크립트 클래스
    * 생성자
    * 멤버 함수
    * 멤버 변수
  * 정보의 은폐
  ```
    캡슐화(encapsulation)라고도 할 수 있다.
      객체의 데이터를 외부에서 직접 접근하지 못하게 막고, 함수를 통해서만 조작이 가능하게 하는 작업이다.
      개념적으로 함수로만 접근할 수 있으면 속성 값이 임의로 변경되는 것을 막을 수 있기 때문에 좋을 수 있지만 현실적으로 코드양이 많이 늘어나게 된다. 롬복에 getter, setter가 있는 이유도 이런 귀찮은 작업을 줄이기 위해서라고 생각된다. 어느정도는 예외를 두지 않으면 작업양이 많아져서 힘들지 않을까 생각해본다.
  ```
  * 다형성
  ```
  ```

  ```
    추가적으로 추상화(Abstraction)에 대해서도 적는다.
    추상화?
      객체들이 가진 공통의 특성들을 파악하고 불필요한 특성들을 제거하는 과정. 객체들이 가진 동작들을 기준으로 이용자들이 동작만 쉽게 구동할 수 있도록 한다. 속성 위주가 아닌 동작 위주로 정의하는 작업을 하는 것이다. 
      내가 본 글에서는 이렇게 속성 동작 위주로 정의하는 것을 추천한다. 동작에 연관되지 않는 속성은 불필요하다고 까지 말한다. 생각해보니 정말로 그렇다는 생각이 든다. 다음에 클래스 설계를 할 때는 진짜 동작위주로 속성을 정의해서 써봐야 겠다.
  ```
* 코드의 재사용
```
  클래스를 통해 인스턴스를 생성하는 것을 말한다고 생각이 된다. 그리고 여기에 이어지는 개념이 상속, 인터페이스와 같은 개념이라고 생각된다.
```

## Resources
* [MDN - Classes](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Classes)
* [MDN - Inheritance and the prototype chain](https://developer.mozilla.org/ko/docs/Web/JavaScript/Inheritance_and_the_prototype_chain)
* [MDN - Inheritance](https://developer.mozilla.org/ko/docs/Learn/JavaScript/Objects/Inheritance)
* [Polymorphism](https://medium.com/@viktor.kukurba/object-oriented-programming-in-javascript-3-polymorphism-fb564c9f1ce8)
* [Class Composition](https://alligator.io/js/class-composition/)
* [Inheritance vs Composition](https://woowacourse.github.io/javable/post/2020-05-18-inheritance-vs-composition/)

## Checklist
* 객체지향 프로그래밍은 무엇일까요?
  * `#`로 시작하는 프라이빗 필드는 왜 필요한 것일까요? 정보를 은폐(encapsulation)하면 어떤 장점이 있을까요?
  * 다형성이란 무엇인가요? 다형성은 어떻게 코드 구조의 정리를 도와주나요?
  * 상속이란 무엇인가요? 상속을 할 때의 장점과 단점은 무엇인가요?
  * OOP의 합성(Composition)이란 무엇인가요? 합성이 상속에 비해 가지는 장점은 무엇일까요?
* 자바스크립트의 클래스는 어떻게 정의할까요?
  * 프로토타입 기반의 객체지향 프로그래밍은 무엇일까요?
  * 자바스크립트의 클래스는 이전의 프로토타입 기반의 객체지향 구현과 어떤 관계를 가지고 있나요?

## Quest
* 웹 상에서 동작하는 간단한 바탕화면 시스템을 만들 예정입니다.
* 요구사항은 다음과 같습니다:
  * 아이콘은 폴더와 일반 아이콘, 두 가지의 종류가 있습니다.
  * 아이콘들을 드래그를 통해 움직일 수 있어야 합니다.
  * 폴더 아이콘은 더블클릭하면 해당 폴더가 창으로 열리며, 열린 폴더의 창 역시 드래그를 통해 움직일 수 있어야 합니다.
  * 바탕화면의 생성자를 통해 처음에 생겨날 아이콘과 폴더의 개수를 받을 수 있습니다.
  * 여러 개의 바탕화면을 각각 다른 DOM 엘리먼트에서 동시에 운영할 수 있습니다.
  * Drag & Drop API를 사용하지 말고, 실제 마우스 이벤트(mouseover, mousedown, mouseout 등)를 사용하여 구현해 보세요!

## Advanced
* 객체지향의 역사는 어떻게 될까요?
* Smalltalk, Java, Go, Kotlin 등의 언어들로 넘어오면서 객체지향 패러다임 측면에서 어떤 발전이 있었을까요?


{% if page.comments %}
<div id="post-disqus" class="container">
{% include disqus.html %}
</div>
{% endif %}