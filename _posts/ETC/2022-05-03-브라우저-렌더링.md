---
layout: post
title: "브라우저 렌더링"
subtitle: ""
comments: true
categories : ETC
date: 2022-05-03
background: '/img/posts/06.jpg'
---
# 소개
이 글은 [IT Blog]() 블로그에서 정리된 내용을 바탕으로 개발자 면접질문들을 하나 씩 답해보고 견문을 넓히기 위해 작성합니다. 이번 글은 첫 번째 질문은 브라우저 렌더링에 관한 내용입니다.
네이버 D2에 올라온 [브라우저는 어떻게 동작하는가?]()를 참고하여 작성합니다.

## 브라우저의 주요 기능
사용자가 선택한 자원을 서버에 요청하고 브라우저에 표시하는 것입니다. 보통은 HTML문서지만 PDF, 이미지 일 수 있습니다. 자원의 주소는 URI(Uniform Resource Identifier)에 의해 정해집니다.

## 브라우저의 기본 구조
  1. 사용자 인터페이스 - 주소표시줄, 이전/다음 버튼 등 요청 페이지를 제외한 나머지 부분
  2. 브라우저 엔진 - 사용자 인터페이스와 렌더링 렌진 사이의 동작을 제어
  3. 렌더링 엔진 - 요청한 콘텐츠를 표시. 예를 들어 HTML을 요청하면 HTML과 CSS를 파싱하여 화면에 표시함
  4. 통신 - HTTP 요청과 같은 네트워크 호출에 사용됨. 이것은 플랫폼 독립적인 인터페이스이고 각 플랫폼 하부에서 실행된
  5. UI 백엔드 - 콤보 박스와 창 같은 기본적인 장치를 그림. 플랫폼에서 명시하지 않은 일반적인 인터페이스로서, OS사용자 인터페이스 체계를 사용.
  6. 자바스크립트 해석기 - 자바스크립트 코드를 해석하고 실행.
  7. 자료 저장소 - 자료를 저장하는 계층. 쿠키를 저장하는 것과 같이 모든 종류의 자우너을 하드 디스크에 저장할 필요가 있다. HTML5 명세에는 웹 데이터 베이스가 정의 되어 있다.
 
위의 7가지 내용은 D2의 원문 기준으로 작성한 내용입니다. 제가 이해한 내용을 토대로 정리해 보겠습니다.
  1. 브라우저는 크게 사용자 인터페이스와 사용자 화면 사이의 상호작용을 원활히 하도록 구성되어 있습니다. 
    - 이를 위해서 D2에서 정의하는 7가지의 브라우저 기본 구조가 필요합니다. 조금 더 풀어서 서술해보면 사용자 인터페이스에서 URI를 통해 자원을 받아오면 사용자 화면에 렌더링을 하기 위해 나머지 6가지의 요소들이 각자의 역할을 하는 것으로 이해됩니다.
    - 브라우저의 기본 구조는 제 나름대로의 이해를 가졌다고 생각됩니다. 이제부터는 구조 별로 어떤 특성을 가졌고 어떤 역할을 하는지 서술해 보겠습니다.

## 렌더링 엔진
렌더링 엔진의 역할은 요청 받은 내용을 브라우저 화면에 표시하는 일입니다.
<br>
렌더링 엔진은 게코(모질라)와 웹킷(사파리, 크롬)이 있습니다.

### 동작 과정
렌더링 엔진은 통신으로부터 요청한 문서의 내용을 얻는 것으로 시작하는데 문서의 내용은 보통 8KB 단위로 전송됩니다.
렌더링 엔진의 기본적인 동작은 다음과 같습니다.
'DOM 트리 구축 위한 HTML 파싱 -> 렌더 트리 구축 -> 렌더 트리 배치 -> 렌더 트리 그리기'
위의 과정을 좀더 세부적으로 분석 해보겠습니다.


## 파싱과 DOM 트리 구축
파싱은 문서(HTML과 같은 문서)를 브라우저가 이해하고 사용할 수 있는 구조로 변환하는 것을 의미 합니다. 파싱의 결과는 보통 노드 트리인데 파싱트리 또는 문법 트리라고 부릅니다.
문서를 파싱하는 것은 다음의 과정으로 1차적인 세분화를 거칩니다.
'문서 -> 어휘분석 -> 구문분석 -> 파싱트리'
저는 위의 어휘분석, 구문분석은 과감히 생략했습니다. 제 이해하는데 드는 노력을 크지만 의미가 크게 있을 것 같지 않았습니다. 제가 이해한 파싱의 1차적인 세부 과정은 문서를 특정 분석 방법을 거쳐 파싱 트리로 만들어 낸다는 것입니다.
파싱의 1차적인 세분화가 끝났으니 다음 스텝이 필요합니다. 이를 '변환'이라고 부릅니다. 위의 1차 과정에서 만들어지 파싱트리는 최종 결과물이 아니기 때문에 변환의 과정을 통해 기계코드로 만들어 내야 합니다. 이렇게 까지 하면 파싱의 과정이 끝나게 됩니다.
---

{% highlight ruby linenos %}
{% endhighlight %}

{% if page.comments %}
<div id="post-disqus" class="container">
{% include disqus.html %}
</div>
{% endif %}
