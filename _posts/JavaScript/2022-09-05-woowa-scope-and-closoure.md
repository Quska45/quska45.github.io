---
layout: post
title: "엘라의 Scope & Closure(10분 테코톡)"
subtitle: ""
comments: true
categories : Node
date: 2022-09-05
background: '/img/posts/06.jpg'
---

# 소개
우아한형제들의 유투브 채널인 `우아한Tech`에 올라온 Scope & Closure에 관한 영상을 바탕으로 글을 작성합니다.
16:19초의 영상입니다.
목차는 아래와 같습니다.
```
1. 스코프
  - 1-1. 스코프란?
  - 1-2. 함수의 중첩을 통한 스코프 체인
  - 1-3. 스코프 레벨(종류)
2. 클로져
```

## 1. 스코프
먼저 스코프가 무엇인지 관련된 내용들을 알아보겠습니다.

### 1-1. 스코프란?
스코프에 대해서 본격적으로 얘기 하기에 앞서 간단한 코드를 제시 드리겠습니다.
아래 코드의 결과를 예측해 보세요.
```javascript
function add( x, y ){
  console.log( x, y );
  return x + y;
}

add( 3, 6 );

console.log( x, y );
```
위 코드는 3,6을 출력하고 reference error와 함께 종료 됩니다.
마지막 콘솔에 있는 x,y는 유효한 스코프 범위내에 해당 변수가 없기 때문입니다.
스코프에 대해서 공부해본적이 없다고 하시더라고 이런식으로 우리는 모두 스코프를 경험해봤습니다.
스코프는 생소한 개념이 아니고 자바스크립트로 된 아주 간단한 코드를 작성해 보셨다면 반드시 경험해본 개념이라는 것을 알아두시면 좋을 것 같습니다.
스코프의 정의는 다음과 같습니다.
```
변수 이름, 함수 이름, 클래스 이름과 같은 식별자가
본인이 선언된 위치에 따라 다른 코드에서 자신이 참조될 수 있을지 없을지 결정되는 것 입니다.
```
변수를 생성하면 작성하면 크게 두가지로 나뉘게 됩니다.
`전역변수`와 `지역변수`입니다.
이는 스코프와 밀접한 관련이 있습니다.
이것과 관련된 내용들에 대해 알아보도록 하겠습니다.

### 1-2. 함수의 중첩을 통한 스코프 체인
갑자기 새로운 용어가 등장했습니다.
스코프와 밀접한 관련이 있는 용어 입니다.
함수의 중첩은 N개의 함수가 중첩되어 스코프를 공유할 수 있다는 것을 의미합니다.
이때 함수들은 자신이 가진 스코프를 공유하게 됩니다.
코드를 하나 제시 드리겠습니다.
결과에 대해서 예측해보세요. 총 6개의 값이 찍히게 됩니다.
```javascript
var x = '전역 x';

function outer() {
  var y = 'outer 함수의 지역변수 y';
  console.log( x );
  console.log( y );
  
  function inner() {
    var x = 'inner 함수의 지역변수 x';
    console.log( x );
    console.log( y );
  }
  
  inner();
}

outer();
console.log( x );
console.log( y );
```
먼저 결과를 알려드리면 다음과 같습니다.
```
전역 x
outer 함수의 지역변수 y
inner 함수의 지역변수 x
outer 함수의 지역변수 y
전역 x
reference error
```
위와 같은 결과가 나오게 되는 것은 함수의 중첩에 의한 스코프 범위 때문입니다.
위의 코드는 전역 > outer > inner 관계의 함수 중첩이 일어나 있습니다.
따라서 스코프의 포함 관계도 위와 같습니다.
함수 중첩에 의한 스코프 범위에 따라 위와 같은 결과가 출력되게 됩니다.
이를 `스코프 체인`이 생성됐다고 할 수 있습니다.
위와 같이 형성된 스코프 체인에서 변수는 자신의 값을 결정할 때 상위 스코프만을 참조할 수 있다는 것을 알고 계시면 좋을 것 같습니다.

### 1-3. 스코프 레벨(종류)
스코프 레벨이라고 표현했지만 스코프의 종류 정도로 이해하셔도 큰 무리는 없을 것 같습니다.
스코프는 두가지의 레벨을 가집니다.
- 1. 블록 레벨 스코프 ( if문, for문, 함수 ... )
- 2. 함수 레벨 스코프 ( 함수 )

대부분의 프로그래밍 언어는 블록 레벨 스코프를 가잡니다.
함수 레벨 스코프는 자바스크립트 언어의 특징 중 하나 입니다.
하지만 함수 레벨 스코프는 혼란을 만들 수 있는 여지가 많기 때문에 let, const를 통해 자바스크립트도 언어 자체적인 키워드를 통해 블록 레벨 스코프를 지원하게 됐습니다.
<br/>
<br/>
다음은 상위 스코프가 언제 결정되는지에 따른 분류를 알아보겠습니다.
- 1. 함수가 호출되는 시점에 결정( 동적 스코프 )
- 2. 함수가 정의되는 시점에 결정( 정적 스코프 === 렉시컬 스코프 )

대부분의 언어가 그렇듯 자바스크립트도 정적 스코프 입니다.
물론 this에 대해 생각해봐야할 부분이 있지만 이글에서 다루지는 않겠습니다.

## 2. 클로져
[꼬재님의 클로져 테코톡](https://quska45.github.io/javascript/2022/08/19/closer.html){:target="_blank"}을 정리한 글입니다.
클로져에 대한 내용은 이글을 확인해주세요.




---
## 참고
- [엘라의 Scope & Closure](https://m.youtube.com/watch?v=PVYjfrgZhtU){: target="_blank"}


{% if page.comments %}
<div id="post-disqus" class="container">
{% include disqus.html %}
</div>
{% endif %}
